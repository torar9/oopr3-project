<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="cs">
<head th:insert="fragment/htmlHead.html"> </head>
<body class="general-background">
<div class="d-flex" id="wrapper">
    <nav th:insert="fragment/navigation.html"> </nav>
    <div class="" id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                    <li class="nav-item active mr-2">
                        <form action="/profile"><input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /><button class="btn btn-primary btn-dark" id="new-btn">Profil</button></form>
                    </li>
                    <li class="nav-item active">
                        <form action="logout" id="logout-form" method="post">
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                            <button class="btn btn-primary btn-dark" id="new-btn">Odhlásit se</button>
                        </form>
                    </li>
                </ul>
            </div>
        </nav>

        <h3 class="m-3 text-center">Zaměstnanecký profil</h3>
        <div class="container bg-white p-5 shadow">
            <label class="text-danger" th:text="${error}"></label>
            <form class="form" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <input type="hidden" name="choice" value="1" />
                <div class="form-group">
                    <label th:value="email" class="text-dark">E-mail:</label><br>
                    <label th:text="${user.getEmail()}" class="text-dark"></label>
                </div>
                <div class="form-group">
                    <label th:value="fname" for="fname" class="text-dark">Jméno:</label><br>
                    <input th:value="${user.getFname()}" type="text" name="fname" id="fname" class="form-control" required>
                </div>
                <div class="form-group">
                    <label th:value="lname" for="lname" class="text-dark">Příjmení:</label><br>
                    <input th:value="${user.getLname()}" type="text" name="lname" id="lname" class="form-control" required>
                </div>
                <div class="form-group">
                    <input type="submit" name="submit" class="btn btn-primary btn-dark" value="Upravit">
                </div>
            </form>
            <form class="form" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <input type="hidden" name="choice" value="2" />
                <div class="form-group">
                    <label class="text-dark">Aktuální heslo:</label><br>
                    <input type="password" name="currentPassword" id="currentPassword" class="form-control" pattern="^[^\s]+(\s+[^\s]+)*$" title="Před a za textem nesmí být mezery" required>
                </div>
                <div class="form-group">
                    <label class="text-dark">Nové heslo:</label><br>
                    <input type="password" name="newPassword" id="newPassword" class="form-control" pattern="^[^\s]+(\s+[^\s]+)*$" title="Před a za textem nesmí být mezery" required>
                </div>
                <div class="form-group">
                    <label class="text-dark">Nové heslo znovu:</label><br>
                    <input type="password" name="passwordAgain" id="passwordAgain" class="form-control" pattern="^[^\s]+(\s+[^\s]+)*$" title="Před a za textem nesmí být mezery" required>
                </div>
                <div class="form-group">
                    <input type="submit" name="submit" class="btn btn-primary btn-dark" value="Změnit heslo">
                </div>
            </form>
        </div>
    </div>

</div>
<div th:insert="fragment/footer.html"> </div>
</body>
</html>